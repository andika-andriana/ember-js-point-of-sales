<div class="row mt-3">
  <div class="col-lg-6">
    <h3 class="text-info">{{if model.id "Ubah Data" "Buat Data Baru"}}: Point Of Sales</h3>
  </div>
</div>

<hr class="bg-info">

<div class="row">
  <div class="col-lg-12">

    <div class="form-group-row">
      <label class="label-input">Tanggal Transaksi</label>
      <div class="col-sm-10">
        <Input class="form-control" @type="date" @value={{moment-format model.transactionDate "YYYY-MM-DD"}}/>
      </div>
    </div>

    <div class="form-group-row">
      <label class="label-input">Supplier</label>
      <div class="col-sm-10">
        <PowerSelect
          @selected={{model.supplier}}
          @options={{this.suppliers}}
          @onChange={{action "onChangeCombo" "model.supplier"}} as |item|>
          {{item.name}}
        </PowerSelect>
      </div>
    </div>

    <div class="form-group-row">
      <label class="label-input">Remarks</label>
      <div class="col-sm-10">
        <Textarea class="form-control" @value={{model.remarks}}/>
      </div>
    </div>

    <hr class="bg-info">

    <div class="form-group-row">
      <strong>Detail Transaksi</strong>
      <table class="table table-bordered table-striped">
        <thead>
          <tr class="text-center bg-info text-light">
            <th>No.</th>
            <th>Nama Produk</th>
            <th>Jumlah</th>
            <th>Harga</th>
            <th>Total</th>
            <th>Ubah</th>
            <th>Hapus</th>
          </tr>
        </thead>
        <tbody>
          {{#each model.pointOfSalesDetail as |item index|}}
            <tr>
              <td>{{inc index}}</td>
              <td>{{item.product}}</td>
              <td>{{item.qty}}</td>
              <td>{{item.price}}</td>
              <td>{{item.subtotal}}</td>
              <td>
                <button class="btn btn-info btn-sm" {{action "editRowData" "point-of-sales-detail" item}}>Ubah</button>
              </td>
              <td>
                <button class="btn btn-danger btn-sm" {{action "deleteRowData" "point-of-sales-detail" item}}>Hapus</button>
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>
      <button class="btn btn-info btn-sm" {{action "addRowData" "point-of-sales-detail"}}>Tambah Transaksi</button>
    </div>
  </div>
</div>

<hr class="bg-info">

<button class="btn btn-success" {{action "savePOS"}}>Simpan Transaksi</button>
{{#link-to "point-of-sale" class="btn btn-success"}}
  Kembali ke list
{{/link-to}}

<PosModal id="pos-modal" @showModal={{ this.posModal.isShowModal }} @model={{ this.posModal.currentModel }}></PosModal>